<!DOCTYPE html lang="ar">
<meta name="msapplication-TileColor" content="#3b5165">
<meta name="msapplication-TileImage" content="/images/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#3b5165">
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' />
<meta name="mobile-web-app-capable" content"yes"> 
<meta name="apple-mobile-web-app-capable" content"yes"> 
<meta name="apple-mobile-web-app-capable" content"yes"> 
<meta name="mobile-web-app-capable" content"yes"> 
<meta name="apple-mobile-web-app-status-bar-style" content"black"> 
<meta name="apple-mobile-web-app-title" content"Roles Chicken"> 
<head>
<title>Yamli Mobile </title>
	
<link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="stylesheet" href="./add_to_homesceen/style/addtohomescreen.css">
<link rel="text/javascript" href="./add_to_homesceen/src/addtohomescreen.js">
<meta name="viewport" content="width=device-width, height=device-height, user-scalable=no" />
<meta charset = "utf-8" />
<link rel="stylesheet" href="./style.css">
<script src="./index.js" defer></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Gulzar&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Gulzar&family=Noto+Naskh+Arabic&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
</head>

<script type="text/javascript" src="https://yamlimobile.com/script.js"></script>
<style>
@font-face { font-family: 'MyWebFont'; src: url ('./font/maghribi.ttf'); }
</style>

<body>
<div class="container">
<div class="button-container">
<div class="button" id="btn_01" onclick="window.open(window.location.href, '_blank')"><img src="./images/newtab_100.png"></div>
<div class="button" id="btn_06" ><img src="./images/share_72.png"></div>
<div class="button" id="btn_02" onclick = "searchtext()" ><img src="./images/search_76.png"></div>
<div class="button" id="btn_03" onclick = "fct_cut()"><img src="./images/cut_96.png"></div>
<div class="button" id="btn_04" onclick = "insertAtCaret()"><img src="./images/paste_96.png"></div>
<div class="button" id="btn_05" onclick = "getSelectedText()"><img src="./images/copy_96.png"></div>
<div class="button" id="btn_07" onclick = "selectall()"><img src="./images/selectall_76.png"></div>
</div>   

<div name="myForm" class="center">
<textarea class="field-input" name="myTextArea" type="text" id="textbox_id_1" onChange="updateConf()" onkeyup="updateConf()" placeholder="Oktob hona..اكتب هنا" autocomplete="on" autofocus></textarea>
<form style="display: none" name="testform">
<p  name="TextArea_vide" id="textbox_id_2" ></p>
</form>
</div>


<div class="button-container">
  <div class="button" id="btn_12" onclick="changeBackgroundColor()">
    <img src="./images/background_color.png" alt="Button 1">
  </div>
  <div class="button" id="btn_08" onclick="toggleAlignment()">
    <img src="./images/text_center.png"  alt="Button 2" >                                                
  </div>
  <div class="button" id="btn_09" onclick="toggleFonts()">
    <img src="./images/font_change.png"   >                                                
  </div>  
  <div class="button" id="btn_10" onclick="updateTextColor()">
    <img src="./images/font_color.png"   >                                                
  </div>
  <div class="button" id="btn_11" onclick="toggleTextSize()">
    <img src="./images/font_size.png"   >                                                
  </div>
  <div class="button" id="btn_13" onclick="toggleFontWeight()">
    <img src="./images/font_bold.png"   >                                                
  </div>
</div>
</div>
</div>   

<div style="display:none"  class="overlay" id="dialog-container">
<div id="id_confrmdiv">  تأكيد !  
    <button id="id_truebtn"> نعم </button>
    <button id="id_falsebtn"> لا </button>
</div>
</div>

<div class="box">
  <input class="add-button" type="button" value="Add Web App">
  <p class="divider"></p>
  <p class="info">يتيح يملي موبايل للمستخدمين الكتابة باللغة العربية بدون لوحة مفاتيح عربية ، من داخل متصفح الويب الخاص بهم و خاصةً على الهواتف الذكية . تعتمد هذه التقنية على محرك التحويل الحرفي في الوقت الفعلي والذي يحول الكلمات المكتوبة بأحرف لاتينية إلى أقرب ما يعادلها باللغة العربية. تعتمد هذه الخدمة على محرك  يملي عربي ، و هو محرك بحث يركز على تقديم نتائج بحث أكثر صلة لاستعلام عربي من خلال توسيعه ليشمل التمثيلات اللاتينية الأكثر استخدامًا.
  يمكن للمستخدم أيضاً من خلال هذه الخدمة أن يقوم بنسخ ، لصق، حدف، البحث على جوجل و مشاركة النص عبر التطبيقات.</p>	
  <p class="divider"></p>
  <p class="info">هام: إذا لم تشتغل هذه الأداة (أي الكتابة من اليمين إلى اليسار ) ، المرجوا إيقاف تفعيل </p>
  <p class="info">"Ad Blocker"</p>
  <p class="info"> . فهذا الموقع لا يحتوي على أية برامج خبيثة أو ضارة.</p>
</div>
</body>

<footer>
<div class="footer">
<h1>- يملي موبايل -</h1>
</footer>

<script>
// Create a new KeyboardEvent
const spaceKeyPress = new KeyboardEvent('keydown', {
  key: ' ',
  code: 'Space',
  keyCode: 32,
  which: 32,
  charCode: 32,
});

// Dispatch the event to the target element
document.dispatchEvent(spaceKeyPress);
	
</script>

<script>

// Create a new KeyboardEvent for keyup event
const spaceKeyRelease = new KeyboardEvent('keyup', {
  key: ' ',
  code: 'Space',
  keyCode: 32,
  which: 32,
  charCode: 32,
});

// Dispatch the event to the target element
document.dispatchEvent(spaceKeyRelease);
</script>


<script>
  const fonts = [
      'Courier New, monospace',
      'Tajawal, sans-serif',
        'Lateef, cursive',
        'Reem Kufi, sans-serif',
        'Amiri, serif',
        'Kufam, sans-serif',
        'Amiri, serif'
  ];

  let currentFontIndex = 0;

  function toggleFonts() {
      const textarea = document.getElementById('textbox_id_1');
      currentFontIndex = (currentFontIndex + 1) % fonts.length;
      textarea.style.fontFamily = fonts[currentFontIndex];
  }
</script> 

    <script>
      var currentSizeIndex = 0;
      var sizes = [16, 34, 20];

      function toggleTextSize() {
          var textarea = document.getElementById("textbox_id_1");
          currentSizeIndex = (currentSizeIndex + 1) % sizes.length;
          textarea.style.fontSize = sizes[currentSizeIndex] + "px";
      }
  </script>

<script> 
function updateConf() {
var myTextArea1 = document.getElementById('textbox_id_1').value;
var inputBox = document.getElementById('printchatbox');
//alert(myTextArea1);
inputBox.focus();
inputBox.value = myTextArea1 ;
document.getElementById('textbox_id_1').focus();
}
</script> 

<script>
  function toggleAlignment() {
      var textarea = document.getElementById("textbox_id_1");

      if (textarea.style.textAlign === "center") {
          textarea.style.textAlign = "right";
      } else {
          textarea.style.textAlign = "center";
      }
  }
</script>
<script>
  function toggleFontWeight() {
      const textarea = document.getElementById('textbox_id_1');
      const currentWeight = getComputedStyle(textarea).fontWeight;

      // Toggle between normal and bold
      textarea.style.fontWeight = currentWeight === 'normal' ? 'bold' : 'normal';
  }
</script>

<script>
  function updateTextColor()  {
      var textarea = document.getElementById("textbox_id_1");

      if (textarea.style.color === "black") {
          textarea.style.color = "white";
      } else {
          textarea.style.color = "black";
      }
  }
</script>


<script>

  function changeBackgroundColor() {
      var colors = ["burlywood", "cadetblue", "chocolate", "coral", "cornflowerblue", "darkcyan", "darkgrey", "darkslategrey","darksalmon"];
      var textarea = document.getElementById("textbox_id_1");
      var currentColor = textarea.style.backgroundColor;

      // Get the index of the current color in the array
      var currentIndex = colors.indexOf(currentColor);

      // Determine the index of the next color
      var newIndex = (currentIndex + 1) % colors.length;

      textarea.style.backgroundColor = colors[newIndex];
  }

</script>

		<script> 
			// Function to get the Selected Text 
			function getSelectedText() { 
				var myTextArea = ''; 
				var myTextArea1 = document.getElementById('textbox_id_1');
                var myTextArea2 = document.getElementById('textbox_id_2');
				// window.getSelection 
				if (window.getSelection) { 
					myTextArea = window.getSelection(); 
				} 
				// document.getSelection 
				else if (document.getSelection) { 
					myTextArea = document.getSelection(); 
				} 
				// document.selection 
				else if (document.selection) { 
					myTextArea = 
					document.selection.createRange().text; 
				} else return; 
				// To write the selected text into the textarea 
				document.execCommand("copy");
                myTextArea2.innerHTML = myTextArea; 
			}
		</script> 
 <script>
 function selectall(){
  /* Get the text field */
  var fct_copy = document.getElementById("textbox_id_1");
  /* Select the text field */
  fct_copy.select();
  fct_copy.setSelectionRange(0, 99999); /*For mobile devices*/
}
</script>
 <script>
    'use strict';
    function sleep(delay) {
      return new Promise(resolve => {
        setTimeout(resolve, delay);
      });
    }
    function logText(message, isError) {
      if (isError)
        console.error(message);
      else
        console.log(message);
      const p = document.createElement('p');
      if (isError)
        p.setAttribute('class', 'error');
      document.querySelector('#output').appendChild(p);
      p.appendChild(document.createTextNode(message));
    }
    function logError(message) {
      logText(message, true);
    }
  //  function setShareButtonsEnabled(enabled) {
 //     document.querySelector('#btn_06').disabled = !enabled;
 //   }
    async function testWebShare() {
      const text_input = document.querySelector('#textbox_id_1');
	  
      const title = 'yamli mobile';
      const text = text_input.disabled ? undefined : text_input.value;
      // setShareButtonsEnabled(false);
      try {
        await navigator.share({title, text});
        logText('Successfully sent share');
      } catch (error) {
        logError('Error sharing: ' + error);
      }
      //setShareButtonsEnabled(true);
    }
    function onLoad() {
      // Checkboxes disable and delete textfields.
      document.querySelector('#btn_06').addEventListener('click', testWebShare);
	  
      if (navigator.share === undefined) {
       // setShareButtonsEnabled(true);
        if (window.location.protocol === 'http:') {
          // navigator.share() is only available in secure contexts.
          window.location.replace(window.location.href.replace(/^http:/, 'https:'));
        } else {
          logError('Error: You need to use a browser that supports this draft ' +
                   'proposal.');
        }
      }
    }
    window.addEventListener('load', onLoad);
</script>
<script>
function insertAtCaret() {
        var text = document.getElementById('textbox_id_2').innerHTML;
		var txtarea = document.getElementById('textbox_id_1');
		var scrollPos = txtarea.scrollTop;
		var strPos = 0;
		var br = ((txtarea.selectionStart || txtarea.selectionStart == '0') ? 
			"ff" : (document.selection ? "ie" : false ) );
		if (br == "ie") { 
			txtarea.focus();
			var range = document.selection.createRange();
			range.moveStart ('character', -txtarea.value.length);
			strPos = range.text.length;
		}
		else if (br == "ff") strPos = txtarea.selectionStart;
	
		var front = (txtarea.value).substring(0,strPos);  
		var back = (txtarea.value).substring(strPos,txtarea.value.length); 
		txtarea.value=front+text+back;
		strPos = strPos + text.length;
		if (br == "ie") { 
			txtarea.focus();
			var range = document.selection.createRange();
			range.moveStart ('character', -txtarea.value.length);
			range.moveStart ('character', strPos);
			range.moveEnd ('character', 0);
			range.select();
		}
		else if (br == "ff") {
			txtarea.selectionStart = strPos;
			txtarea.selectionEnd = strPos;
			txtarea.focus();
		}
		txtarea.scrollTop = scrollPos;
	}
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
</script>
<!-- YAMLI CODE START -->
<script type="text/javascript" src="https://api.yamli.com/js/yamli_api.js"></script>
<script type="text/javascript">
  if (typeof(Yamli) == "object" && Yamli.init( { uiLanguage: "ar" ,  startMode: "onOrUserDefault" , uiFontFamily: 'Amiri' , settingsColor: '#dbb44f' , settingsLinkColor: '#dbb44f'} ))
  {
    Yamli.yamlify( "textbox_id_1", { settingsPlacement: 'inside' , showTutorialLink: true, showDirectionLink: true} );
  }
</script>
<script>
document.querySelector('textbox_id_1').autofocus = true;
</script>
<script>
var duplicating = browser.tabs.duplicate(
  tabId,              // integer
  duplicateProperties // optional object
)
function onDuplicated(tabInfo) {
  console.log(tabInfo.id);
}
function onError(error) {
  console.log(`Error: ${error}`);
}
// Duplicate the first tab in the array
function duplicateFirstTab(tabs) {
  console.log(tabs);
  if (tabs.length > 0) {
    var duplicating = browser.tabs.duplicate(tabs[0].id);
    duplicating.then(onDuplicated, onError);
  }
}
// Query for all open tabs
var querying = browser.tabs.query({});
querying.then(duplicateFirstTab, onError);
</script>
<script>
function searchtext() {
  /* Get the text field */
  var SerText = document.getElementById("textbox_id_1");
  /* Select the text field */
  SerText.select();
  SerText.setSelectionRange(0, 99999); /*For mobile devices*/
  /* Copy the text inside the text field */
  window.open('http://google.com/search?q='+SerText.value,"_blank");
  /* Alert the copied text 
  alert("Copied the text: " + fct_copy.value);*/
}
</script>
<script>
function doConfirm(msg, yesFn, noFn)
{
    var confirmBox = $("#confirmBox");
    confirmBox.find(".message").text(msg);
    confirmBox.find(".yes,.no").unbind().click(function()
    {
        confirmBox.hide();
    });
    confirmBox.find(".yes").click(yesFn);
    confirmBox.find(".no").click(noFn);
    confirmBox.show();
}
</script>
<script>
doConfirm("Are you sure?", function yes()
{
    form.submit();
}, function no()
{
    // do nothing
});
</script>
<script>
function fct_cut(){
	var overlayme = document.getElementById("dialog-container");
	overlayme.style.display = "block";
document.getElementById('id_confrmdiv').style.display="block"; //this is the replace of this line
document.getElementById('id_truebtn').onclick = function(){
     /* Get the text field */
  var DelText = document.getElementById("textbox_id_1");
  /* Select the text field */
  DelText.select();
  DelText.setSelectionRange(0, 99999); /*For mobile devices*/
  /* Copy the text inside the text field */
  document.execCommand("delete");
  /* Alert the copied text 
  alert("Copied the text: " + copyText.value);*/
    /* alert('true'); */ 
	document.getElementById('id_confrmdiv').style.display = "none";
	    overlayme.style.display = "none";
	return false;
};
document.getElementById('id_falsebtn').onclick = function(){
    /* alert('false'); */
document.getElementById('id_confrmdiv').style.display = "none"; 
    overlayme.style.display = "none";
   return false;
};
}
</script>
<script> //if the website Is not opened an app mode show (i.e. in a browser) the add to homescreen prompt 
	if ((("standalone" in window.navigator) && !window.navigator.standalone) || (!window.matchMedia('(display-mode: standalone)').matches )) // android 
	 {
			addToHomescreen();
		}
	</script> 

	<script> 
window.addEventListener('beforeunload', (event) => {
  // Cancel the event as stated by the standard.
  event.preventDefault();
  // Chrome requires returnValue to be set.
  event.returnValue = '';
});
</script> 

</html>
